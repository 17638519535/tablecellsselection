<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>cells-selectorRectangular highlighting cells / jQuery plugin / cells-selector</title>

    <meta name="keywords"
          content="tablecellsselection, jquery plugin, cells-selector, cells selector, cells selection, javascript, highlight cells, highlighting cells, rectangular highlighting, table cells, html">
    <meta name="description"
          content="tablecellsselection - jQuery plugin emulate rectangular table's cells selection (like in GoogleDocs or Excel). Can be useful in WYSIWYG editors.">
    <meta name="author" content="Valerij Ivashchenko">
    <meta name="robots" content="follow, index">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">




    <script src="https://code.jquery.com/jquery-2.2.4.js"></script>

    <script src="tablecellsselection.js"></script>
    <link rel="stylesheet" href="tablecellsselection.css">
    <style type="text/css">
        .red{
            background-color: transparent;
        }
        .reds{
            background-color: red;
        }
        .table {
            width: 100%;
            max-width: 100%;
            /* margin-bottom: 20px; */
        }
    </style>
</head>
<body class="col-md-12">
    <!--<style>-->
        <!--td, th {text-align: center;}-->
        <!--.table-bordered>tbody>tr>td, .table-bordered>tbody>tr>td {vertical-align: middle;}-->
    <!--</style>-->
<div class="col-md-12">

</div>


<div class="col-md-5">
    <div class="col-md-12">
        <h2 class="bold">After <sup><small class="text-muted">with plugin</small></sup></h2>
    </div>
    <thead>
    <table style="margin: 0px" class="table table-bordered" summary="Table selection with plugin">

    <tr>
        <th>table</th>
        <th>Column 1</th>
        <th>Column 2</th>
        <th>Column 3</th>
        <th>Column 4</th>
        <th>Column 5</th>
        <th>Column 6</th>
    </tr>
    </table>
    <table style="margin-bottom: 0px" class="table table-bordered" summary="Table selection with plugin" id="tablecellsselection">

        </thead>
        <tbody>
        <tr>
            <th>A</th>
            <td id="test">$10</td>
            <td>$20</td>
            <td>$30</td>
            <td>$40</td>
            <td>$50</td>
            <td>$60</td>
        </tr>
        <tr>
            <th>B</th>
            <td>$10</td>
            <td >$20</td>
            <td>$30</td>
            <td>$40</td>
            <td>$50</td>
            <td>$60</td>

        </tr>
        <tr>
            <th>C</th>
            <td>$10</td>
            <td >$30</td>
            <td>$60</td>
            <td>$60</td>
            <td>$60</td>
            <td>$60</td>
        </tr>
        <tr>
            <th>D</th>
            <td>$10</td>
            <td>$30</td>
            <td>$40</td>
            <td>$50</td>
            <td>$60</td>
            <td>$60</td>
        </tr>
        <tr>
            <th>E</th>
            <td>$10</td>
            <td>$20</td>
            <td>$30</td>
            <td>$40</td>
            <td>$50</td>
            <td>$60</td>
        </tr>
        <tr>
            <th>F</th>
            <td>$10</td>
            <td>$20</td>
            <td>$30</td>
            <td>$40</td>
            <td>$50</td>
            <td>$60</td>
        </tr>
        </tbody>
    </table>

</div>

    <div class="col-md-12">
        <h4> 你所选结果是
            <p id="data"> </p>
        </h4>
    <!-- Place this tag where you want the button to render. -->
    <a class="github-button" href="https://github.com/likemusic/tablecellsselection" data-style="mega" data-count-href="/likemusic/tablecellsselection/stargazers" data-count-api="/repos/likemusic/tablecellsselection#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star likemusic/tablecellsselection on GitHub">Star</a>
    </div>

<script>
    jQuery(document).ready(function ($) {
        $('#tablecellsselection').tableCellsSelection();
    });

    var data =[];

    //点击左键松开事件
    $("td").mouseup(function(){

        //获取table的行和列
        var td = event.srcElement; // 通过event.srcElement 获取激活事件的对象 td
        console.log("行号：" + (td.parentElement.rowIndex) + "，列号：" + td.cellIndex);
        var selectedCells =  $('#tablecellsselection').tableCellsSelection('selectedCells');
        console.log('value是：'+selectedCells[0].innerText+' 列数 : '+selectedCells[0].cellIndex
            +'   行数：');
        if(selectedCells.length > 1){
            for (var i=0;i<selectedCells.length;i++){
                data.push('value： '+selectedCells[0].innerText+'  列： '+selectedCells[0].cellIndex);
            }
        }else{
            data.push('value： '+selectedCells[0].innerText+' 列： '+selectedCells[0].cellIndex+'  行： '+(td.parentElement.rowIndex-1));
        }
        $("#data").text(data) ;
        console.log(selectedCells);
    });


    $("th").click(function () {
        $(this).addClass("red");
        console.log('哎');
    });
    $("h4").click(function () {
         $(this).addClass("reds");

    });
    // //鼠标按下触发这个事件
    // $("tbody td").mousedown(function () {
    //
    //
    //     $("tbody td").mouseup(onMouseup);
    // });
    //
    // function onMousemove() {
    //     $(this).css('background-color', '#aaa');
    // }
    //
    // var cellVal = parseFloat(0,10);
    // var cellIndex = 0;
    // function onMouseup() {
    //     var selectedCells =  $('#tablecellsselection').tableCellsSelection('selectedCells');
    //
    //
    //     console.log('value是：'+selectedCells[0].innerText+'列数 : '+selectedCells[0].cellIndex
    //         +'行数：');
    //
    //   console.log(selectedCells);
    //
    //     $("tbody").find("td").each(function () {
    //         if ($(this).css('background-color') == "rgba(51, 122, 183, 0.2)") {
    //             // console.log("今晚不加班");
    //             var nubmer = $(this).context.innerText;
    //             // console.log(nubmer)
    //             // data.push(nubmer);
    //             // $("#data").text(data);
    //             cellVal += parseFloat(nubmer,10);//cellIndex
    //             cellIndex = $(this).context.cellIndex;//选中数据所在第几列
    //             data.push(nubmer);
    //             console.log(cellIndex)   //列数
    //             console.log(cellVal)     //行
    //             // $("#data").text(data) ;
    //         }
    //     })
    // }

</script>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

</body>
</html>